<view class="cart"><block wx:if="{{showHeader}}"><view class="status" style="{{'position:'+(headerPosition)+';'+('top:'+(statusTop)+';')}}"></view></block><block wx:if="{{showHeader}}"><view class="header" style="{{'position:'+(headerPosition)+';'+('top:'+(headerTop)+';')}}"><view class="title">购物车</view></view></block><block wx:if="{{showHeader}}"><view class="place"></view></block><block wx:if="{{cartList.length===0}}"><view class="empty"><image src="/static/emptyCart.jpg" mode="aspectFit"></image><block wx:if="{{token}}"><view class="empty-tips">空空如也<block wx:if="{{token}}"><navigator class="navigator" url="../category/category" open-type="switchTab">随便逛逛></navigator></block></view></block><block wx:else><view class="empty-tips">空空如也<view data-event-opts="{{[['tap',[['navToLogin',['$event']]]]]}}" class="navigator" bindtap="__e">去登陆></view></view></block></view></block><block wx:else><view class="goods-list"><block wx:for="{{cartList}}" wx:for-item="row" wx:for-index="index" wx:key="index"><view class="row"><view data-event-opts="{{[['tap',[['deleteCartItem',['$0','one'],[[['cartList','',index,'sku_id']]]]]]]}}" class="menu" catchtap="__e"><view class="icon shanchu"></view></view><view data-event-opts="{{[['touchstart',[['touchStart',[index,'$event']]]],['touchmove',[['touchMove',[index,'$event']]]],['touchend',[['touchEnd',[index,'$event']]]]]}}" class="{{['carrier',theIndex==index?'open':oldIndex==index?'close':'']}}" bindtouchstart="__e" bindtouchmove="__e" bindtouchend="__e"><view data-event-opts="{{[['tap',[['selected',[index]]]]]}}" class="checkbox-box" bindtap="__e"><view class="checkbox"><view class="{{[row.selected?'on':'']}}"></view></view></view><view data-event-opts="{{[['tap',[['navToDetailPage',['$0'],[[['cartList','',index,'product.id']]]]]]]}}" class="goods-info" bindtap="__e"><view class="img"><image src="{{row.product_img}}"></image></view><view class="info"><view class="title">{{row.product_name}}</view><view class="spec">{{row.sku_name||'基础版'}}</view><view class="price-number"><view class="price">{{"￥"+row.price}}</view><view class="number"><view data-event-opts="{{[['tap',[['sub',['$0',index],[[['cartList','',index]]]]]]]}}" class="sub" catchtap="__e"><view class="icon jian"></view></view><view data-event-opts="{{[['tap',[['discard',['$event']]]]]}}" class="input" catchtap="__e"><input type="number" data-event-opts="{{[['input',[['__set_model',['$0','number','$event',[]],[[['cartList','',index]]]],['numberChange',['$0','$event',index],[[['cartList','',index]]]]]]]}}" value="{{row.number}}" catchinput="__e"/></view><view data-event-opts="{{[['tap',[['add',['$0',index],[[['cartList','',index]]]]]]]}}" class="add" catchtap="__e"><view class="icon jia"></view></view></view></view></view></view></view></view></block></view></block><block wx:if="{{cartList.length!==0}}"><view class="footer" style="{{'bottom:'+(footerbottom)+';'}}"><view data-event-opts="{{[['tap',[['allSelect',['$event']]]]]}}" class="checkbox-box" bindtap="__e"><view class="checkbox"><view class="{{[isAllselected?'on':'']}}"></view></view><view class="text">全选</view></view><block wx:if="{{selectedList.length>0}}"><view data-event-opts="{{[['tap',[['deleteCartItem',['$event']]]]]}}" class="delBtn del" bindtap="__e">删除</view></block><block wx:if="{{selectedList.length>0}}"><view data-event-opts="{{[['tap',[['clearCart',['$event']]]]]}}" class="delBtn" bindtap="__e">清空</view></block><view class="settlement"><view class="sum">合计:<view class="money">{{"￥"+sumPrice}}</view></view><view data-event-opts="{{[['tap',[['createOrder',['$event']]]]]}}" class="btn" bindtap="__e">{{"结算("+selectedList.length+")"}}</view></view></view></block></view>