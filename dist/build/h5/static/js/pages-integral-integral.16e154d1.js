(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-integral-integral"],{"42f7":function(e,t,n){"use strict";n.r(t);var a=n("4958"),r=n.n(a);for(var i in a)"default"!==i&&function(e){n.d(t,e,(function(){return a[e]}))}(i);t["default"]=r.a},4958:function(e,t,n){"use strict";var a=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("8e6e"),n("ac6a"),n("456d");var r=a(n("75fc")),i=a(n("bd86"));n("96cf");var s=a(n("3b8d")),o=n("802d"),d=a(n("09c2")),c=a(n("d138"));function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(n,!0).forEach((function(t){(0,i.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u={components:{uniLoadMore:d.default,empty:c.default},data:function(){return{integralList:[],loadingType:"more",page:0,type:null}},onLoad:function(e){this.type=e.type,this.initData()},filters:{time:function(e){return moment(1e3*e).format("YYYY-MM-DD HH:mm:ss")},numFilter:function(e){return e>=0?"+".concat(e):e}},onPullDownRefresh:function(){this.page=1,this.integralList=[],this.getIntegralListList("refresh")},onReachBottom:function(){this.page++,this.getIntegralListList()},methods:{initData:function(){this.getIntegralListList()},getIntegralListList:function(){var e=(0,s.default)(regeneratorRuntime.mark((function e(t){var n,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return uni.showLoading({title:"加载中..."}),n={},this.type&&(n.credit_type=1),n.page=this.page,e.next=6,this.$get("".concat(o.creditsLogList),f({},n)).then((function(e){"refresh"===t&&uni.stopPullDownRefresh(),200===e.code?(a.loadingType=10===e.data.length?"more":"nomore",a.integralList=[].concat((0,r.default)(a.integralList),(0,r.default)(e.data))):uni.showToast({title:e.message,icon:"none"})})).catch((function(e){console.log(e)}));case 6:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),checkAddress:function(e){1==this.source&&(this.$api.prePage().addressData=e,uni.navigateBack())},addAddress:function(e,t){uni.navigateTo({url:"/pages/address/addressManage?type=".concat(e,"&id=").concat(t&&t.id||void 0)})}}};t.default=u},"802d":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.creditsLogList=t.collectList=t.footPrintDel=t.footPrintList=t.couponReceive=t.orderList=t.myCouponList=t.couponList=t.addressDelete=t.addressUpdate=t.addressDetail=t.addressDefault=t.addressCreate=t.addressList=t.memberUpdate=t.memberInfo=void 0;var a="/addons/rf-tiny-shop/v1/member/member/index";t.memberInfo=a;var r="/addons/rf-tiny-shop/v1/member/member/update";t.memberUpdate=r;var i="/addons/rf-tiny-shop/v1/member/address/index";t.addressList=i;var s="/addons/rf-tiny-shop/v1/member/address/default";t.addressDefault=s;var o="/addons/rf-tiny-shop/v1/member/address/view";t.addressDetail=o;var d="/addons/rf-tiny-shop/v1/member/address/create";t.addressCreate=d;var c="/addons/rf-tiny-shop/v1/member/address/update";t.addressUpdate=c;var l="/addons/rf-tiny-shop/v1/member/address/delete";t.addressDelete=l;var f="/addons/rf-tiny-shop/v1/marketing/coupon-type/index";t.couponList=f;var u="/addons/rf-tiny-shop/v1/member/coupon/index";t.myCouponList=u;var p="/addons/rf-tiny-shop/v1/marketing/coupon-type/create";t.couponReceive=p;var v="/addons/rf-tiny-shop/v1/member/order/index";t.orderList=v;var m="/addons/rf-tiny-shop/v1/member/footprint/index";t.footPrintList=m;var b="/addons/rf-tiny-shop/v1/member/footprint/delete";t.footPrintDel=b;var g="/addons/rf-tiny-shop/v1/member/collect/index";t.collectList=g;var h="/addons/rf-tiny-shop/v1/member/credits-log/index";t.creditsLogList=h},"85a5":function(e,t,n){var a=n("9bb4");"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var r=n("4f06").default;r("6e1fa2b7",a,!0,{sourceMap:!1,shadowMode:!1})},"9bb4":function(e,t,n){t=e.exports=n("24fb")(!1),t.push([e.i,".total[data-v-1e33ffc7]{margin-left:%?32?%}.total .total-num[data-v-1e33ffc7]{margin:0 %?12?%;font-size:%?44?%;color:#fa436a}.list[data-v-1e33ffc7]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;padding:%?20?% %?30?%;background:#fff;position:relative}.list .wrapper[data-v-1e33ffc7]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-flex:1;-webkit-flex:1;flex:1}.list .wrapper .address-box[data-v-1e33ffc7]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;font-size:%?32?%;color:#303133}.list .wrapper .u-box[data-v-1e33ffc7]{color:#909399;font-size:%?24?%;margin-top:%?16?%;margin-right:%?30?%}.list .change-num[data-v-1e33ffc7]{font-size:%?42?%;color:#606266}.list .change-num-add[data-v-1e33ffc7]{color:#fa436a}.list .change-num-reduce[data-v-1e33ffc7]{color:#606266}",""])},b204:function(e,t,n){"use strict";n.r(t);var a=n("d84e"),r=n("42f7");for(var i in r)"default"!==i&&function(e){n.d(t,e,(function(){return r[e]}))}(i);n("db6f");var s=n("2877"),o=Object(s["a"])(r["default"],a["a"],a["b"],!1,null,"1e33ffc7",null);t["default"]=o.exports},d84e:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",{staticClass:"content b-t"},[n("v-uni-view",{staticClass:"total"},[e._v("您现在拥有"),n("v-uni-text",{staticClass:"total-num"},[e._v(e._s(parseInt(e.integralList[0]&&e.integralList[0].new_num,10)))]),e._v(e._s(e.type?"元":"积分"))],1),e._l(e.integralList,(function(t,a){return n("v-uni-view",{key:a,staticClass:"list b-b",on:{click:function(n){n=e.$handleEvent(n),e.checkAddress(t)}}},[n("v-uni-view",{staticClass:"wrapper",on:{touchstart:function(n){n=e.$handleEvent(n),e.goTouchStart(t.id)},touchmove:function(t){t=e.$handleEvent(t),e.goTouchMove(t)},touchend:function(t){t=e.$handleEvent(t),e.goTouchEnd(t)}}},[n("v-uni-view",{staticClass:"address-box"},[e._v(e._s(t.remark))]),n("v-uni-view",{staticClass:"u-box"},[e._v(e._s(e._f("time")(t.created_at)))])],1),n("v-uni-text",{staticClass:"change-num",class:parseInt(t.num,10)>=0?"change-num-add":"change-num-reduce"},[e._v(e._s(e._f("numFilter")(parseInt(t.num,10))))])],1)})),n("uni-load-more",{attrs:{status:e.loadingType}}),0===e.integralList.length?n("empty",{attrs:{info:"暂无积分记录"}}):e._e()],2)},r=[];n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r}))},db6f:function(e,t,n){"use strict";var a=n("85a5"),r=n.n(a);r.a}}]);