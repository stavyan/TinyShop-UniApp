(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-collection-collection"],{"1af6":function(t,e,n){var i=n("63b6");i(i.S,"Array",{isArray:n("9003")})},"20fd":function(t,e,n){"use strict";var i=n("d9f6"),o=n("aebd");t.exports=function(t,e,n){e in t?i.f(t,e,o(0,n)):t[e]=n}},"2b74":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.notifyAnnounceView=e.notifyAnnounceIndex=e.wechatConfig=e.configList=e.payCreate=e.advList=e.transmitCreate=e.collectDel=e.collectCreate=e.provinceList=void 0;var i="/tiny-shop/v1/common/provinces/index";e.provinceList=i;var o="/tiny-shop/v1/common/collect/create";e.collectCreate=o;var a="/tiny-shop/v1/common/collect/delete";e.collectDel=a;var r="/tiny-shop/v1/common/transmit/create";e.transmitCreate=r;var c="/tiny-shop/v1/common/adv/index";e.advList=c;var s="/tiny-shop/v1/common/config/index";e.configList=s;var u="/tiny-shop/v1/common/pay/create";e.payCreate=u;var l="/tiny-shop/v1/third-party/wechat-js-sdk";e.wechatConfig=l;var f="/tiny-shop/v1/common/notify-announce/index";e.notifyAnnounceIndex=f;var d="/tiny-shop/v1/common/notify-announce/view";e.notifyAnnounceView=d},"549b":function(t,e,n){"use strict";var i=n("d864"),o=n("63b6"),a=n("241e"),r=n("b0dc"),c=n("3702"),s=n("b447"),u=n("20fd"),l=n("7cd6");o(o.S+o.F*!n("4ee1")((function(t){Array.from(t)})),"Array",{from:function(t){var e,n,o,f,d=a(t),p="function"==typeof this?this:Array,v=arguments.length,h=v>1?arguments[1]:void 0,m=void 0!==h,b=0,g=l(d);if(m&&(h=i(h,v>2?arguments[2]:void 0,2)),void 0==g||p==Array&&c(g))for(e=s(d.length),n=new p(e);e>b;b++)u(n,b,m?h(d[b],b):d[b]);else for(f=g.call(d),n=new p;!(o=f.next()).done;b++)u(n,b,m?r(f,h,[o.value,b],!0):o.value);return n.length=b,n}})},"54a1":function(t,e,n){n("6c1c"),n("1654"),t.exports=n("95d5")},"57ed":function(t,e,n){var i=n("24fb");e=i(!1),e.push([t.i,'.uni-media-list-logo[data-v-60d2a451]{width:%?240?%;height:%?180?%}.uni-media-list-body[data-v-60d2a451]{height:auto;-webkit-justify-content:space-around;justify-content:space-around}.uni-media-list-text-top[data-v-60d2a451]{height:%?74?%;font-size:%?28?%;overflow:hidden}.uni-media-list-text-bottom[data-v-60d2a451]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.price[data-v-60d2a451]{font-size:%?28?%;color:#303133}.price[data-v-60d2a451]:before{content:"￥";font-size:%?24?%;margin:0 %?2?% 0 %?8?%}',""]),t.exports=e},"75fc":function(t,e,n){"use strict";n.r(e);var i=n("a745"),o=n.n(i);function a(t){if(o()(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}var r=n("774e"),c=n.n(r),s=n("c8bb"),u=n.n(s);function l(t){if(u()(Object(t))||"[object Arguments]"===Object.prototype.toString.call(t))return c()(t)}function f(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function d(t){return a(t)||l(t)||f()}n.d(e,"default",(function(){return d}))},"774e":function(t,e,n){t.exports=n("d2d5")},"95d5":function(t,e,n){var i=n("40c3"),o=n("5168")("iterator"),a=n("481b");t.exports=n("584a").isIterable=function(t){var e=Object(t);return void 0!==e[o]||"@@iterator"in e||a.hasOwnProperty(i(e))}},"9a1a":function(t,e,n){"use strict";n.r(e);var i=n("c59e"),o=n.n(i);for(var a in i)"default"!==a&&function(t){n.d(e,t,(function(){return i[t]}))}(a);e["default"]=o.a},a745:function(t,e,n){t.exports=n("f410")},b8f7:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"collection"},[t.collectionList.length>0?n("v-uni-view",[n("rf-swipe-action",t._l(t.collectionList,(function(e,i){return n("rf-swipe-action-item",{key:i,staticClass:"uni-list-cell",attrs:{options:t.options,info:e},on:{action:function(e){e=t.$handleEvent(e),t.bindClick(e)}}},[n("v-uni-view",{staticClass:"uni-media-list",on:{click:function(e){e=t.$handleEvent(e),t.navTo("/pages/product/product?id="+t.id)}}},[n("v-uni-image",{staticClass:"uni-media-list-logo",attrs:{mode:"aspectFill",src:e.product&&e.product.picture},on:{error:function(e){e=t.$handleEvent(e),t.onImageError(i)}}}),n("v-uni-view",{staticClass:"uni-media-list-body"},[n("v-uni-view",{staticClass:"uni-media-list-text-top"},[t._v(t._s(e.product&&e.product.name))]),n("v-uni-view",{staticClass:"uni-media-list-text-bottom"},[n("v-uni-text",{staticClass:"price"},[t._v(t._s(e.product&&e.product.minPriceSku.price))]),n("v-uni-text",[t._v(t._s(t._f("time")(e.created_at)))])],1)],1)],1)],1)})),1),n("rf-load-more",{attrs:{status:t.loadingType}})],1):n("empty",{attrs:{info:"快去收藏一些商品吧~"}})],1)},o=[];n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return o}))},be59:function(t,e,n){"use strict";n.r(e);var i=n("b8f7"),o=n("9a1a");for(var a in o)"default"!==a&&function(t){n.d(e,t,(function(){return o[t]}))}(a);n("f578");var r=n("2877"),c=Object(r["a"])(o["default"],i["a"],i["b"],!1,null,"60d2a451",null);e["default"]=c.exports},c59e:function(t,e,n){"use strict";var i=n("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=i(n("75fc"));n("96cf");var a=i(n("3b8d")),r=n("802d"),c=i(n("f97d")),s=i(n("c7c7")),u=n("2b74"),l=i(n("d138")),f=i(n("8f09")),d=i(n("9b83")),p=i(n("5449")),v={components:{rfLoadMore:c.default,rfSwipeAction:d.default,rfSwipeActionItem:p.default,empty:l.default},data:function(){return{collectionList:[],errorImg:s.default,page:1,loadingType:"more",token:null,options:[{text:"取消收藏",style:{backgroundColor:"#fa436a"}}]}},filters:{time:function(t){return(0,f.default)(1e3*t).format("YYYY-MM-DD HH:mm:ss")}},onLoad:function(){this.initData()},onPageScroll:function(t){},onPullDownRefresh:function(){this.page=1,this.collectionList=[],this.getCollectionList("refresh")},onReachBottom:function(){this.page++,this.getCollectionList()},methods:{bindClick:function(){var t=(0,a.default)(regeneratorRuntime.mark((function t(e){var n=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if("取消收藏"!==e.content.text){t.next=4;break}return uni.showLoading({title:"取消收藏中..."}),t.next=4,this.$del("".concat(u.collectDel,"?id=").concat(e.data.id),{page:this.page}).then((function(){n.$api.msg("取消收藏成功"),n.page=1,n.collectionList.length=0,n.getCollectionList()}));case 4:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),initData:function(){this.token=uni.getStorageSync("accessToken")||void 0,this.token&&this.getCollectionList()},getCollectionList:function(){var t=(0,a.default)(regeneratorRuntime.mark((function t(e){var n=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return uni.showLoading({title:"加载中..."}),t.next=3,this.$get("".concat(r.collectList),{page:this.page}).then((function(t){"refresh"===e&&uni.stopPullDownRefresh(),n.loadingType=10===t.data.length?"more":"nomore",n.collectionList=[].concat((0,o.default)(n.collectionList),(0,o.default)(t.data))}));case 3:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),onImageError:function(t){this.collectionList[t].product.picture=this.errorImg},navTo:function(t){uni.navigateTo({url:t})}}};e.default=v},c8bb:function(t,e,n){t.exports=n("54a1")},d2d5:function(t,e,n){n("1654"),n("549b"),t.exports=n("584a").Array.from},e5b0:function(t,e,n){var i=n("57ed");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var o=n("4f06").default;o("1f402d34",i,!0,{sourceMap:!1,shadowMode:!1})},f410:function(t,e,n){n("1af6"),t.exports=n("584a").Array.isArray},f578:function(t,e,n){"use strict";var i=n("e5b0"),o=n.n(i);o.a}}]);