(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-user-collection-collection"],{"09df":function(t,e,n){"use strict";n.r(e);var i=n("3ea0"),o=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e["default"]=o.a},"1af6":function(t,e,n){var i=n("63b6");i(i.S,"Array",{isArray:n("9003")})},"20fd":function(t,e,n){"use strict";var i=n("d9f6"),o=n("aebd");t.exports=function(t,e,n){e in t?i.f(t,e,o(0,n)):t[e]=n}},2599:function(t,e,n){"use strict";var i=n("25bb"),o=n.n(i);o.a},"25bb":function(t,e,n){var i=n("d613");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var o=n("4f06").default;o("60a89d32",i,!0,{sourceMap:!1,shadowMode:!1})},"2b74":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.notifyAnnounceView=e.notifyAnnounceIndex=e.wechatConfig=e.configList=e.payCreate=e.advList=e.transmitCreate=e.collectDel=e.collectCreate=e.provinceList=void 0;var i="/tiny-shop/v1/common/provinces/index";e.provinceList=i;var o="/tiny-shop/v1/common/collect/create";e.collectCreate=o;var r="/tiny-shop/v1/common/collect/delete";e.collectDel=r;var a="/tiny-shop/v1/common/transmit/create";e.transmitCreate=a;var c="/tiny-shop/v1/common/adv/index";e.advList=c;var s="/tiny-shop/v1/common/config/index";e.configList=s;var u="/tiny-shop/v1/common/pay/create";e.payCreate=u;var f="/tiny-shop/v1/third-party/wechat-js-sdk";e.wechatConfig=f;var l="/tiny-shop/v1/common/notify-announce/index";e.notifyAnnounceIndex=l;var d="/tiny-shop/v1/common/notify-announce/view";e.notifyAnnounceView=d},"3ea0":function(t,e,n){"use strict";var i=n("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=i(n("75fc"));n("96cf");var r=i(n("3b8d")),a=n("802d"),c=i(n("f97d")),s=i(n("c7c7")),u=n("2b74"),f=i(n("8f09")),l=i(n("9b83")),d=i(n("5449")),p={components:{rfLoadMore:c.default,rfSwipeAction:l.default,rfSwipeActionItem:d.default},data:function(){return{collectionList:[],errorImg:s.default,page:1,loadingType:"more",token:null,options:[{text:"取消收藏",style:{backgroundColor:"#fa436a"}}],loading:!0}},filters:{time:function(t){return(0,f.default)(1e3*t).format("YYYY-MM-DD HH:mm:ss")}},onLoad:function(){this.initData()},onPageScroll:function(t){},onPullDownRefresh:function(){this.page=1,this.collectionList=[],this.loading=!0,this.getCollectionList("refresh")},onReachBottom:function(){this.page++,this.getCollectionList()},methods:{bindClick:function(){var t=(0,r.default)(regeneratorRuntime.mark((function t(e){var n=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if("取消收藏"!==e.content.text){t.next=3;break}return t.next=3,this.$del("".concat(u.collectDel,"?id=").concat(e.data.id),{page:this.page}).then((function(){n.$api.msg("取消收藏成功"),n.page=1,n.collectionList.length=0,n.getCollectionList()}));case 3:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),initData:function(){this.token=uni.getStorageSync("accessToken")||void 0,this.token&&this.getCollectionList()},getCollectionList:function(){var t=(0,r.default)(regeneratorRuntime.mark((function t(e){var n=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$get("".concat(a.collectList),{page:this.page}).then((function(t){n.loading=!1,"refresh"===e&&uni.stopPullDownRefresh(),n.loadingType=10===t.data.length?"more":"nomore",n.collectionList=[].concat((0,o.default)(n.collectionList),(0,o.default)(t.data))})).catch((function(){n.loading=!1,"refresh"===e&&uni.stopPullDownRefresh()}));case 2:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),onImageError:function(t){this.collectionList[t].product.picture=this.errorImg},navTo:function(t){uni.navigateTo({url:t})}}};e.default=p},"488e":function(t,e,n){"use strict";n.r(e);var i=n("6cf3"),o=n("09df");for(var r in o)"default"!==r&&function(t){n.d(e,t,(function(){return o[t]}))}(r);n("2599");var a=n("2877"),c=Object(a["a"])(o["default"],i["a"],i["b"],!1,null,"7ff41d16",null);e["default"]=c.exports},"549b":function(t,e,n){"use strict";var i=n("d864"),o=n("63b6"),r=n("241e"),a=n("b0dc"),c=n("3702"),s=n("b447"),u=n("20fd"),f=n("7cd6");o(o.S+o.F*!n("4ee1")((function(t){Array.from(t)})),"Array",{from:function(t){var e,n,o,l,d=r(t),p="function"==typeof this?this:Array,v=arguments.length,h=v>1?arguments[1]:void 0,m=void 0!==h,g=0,b=f(d);if(m&&(h=i(h,v>2?arguments[2]:void 0,2)),void 0==b||p==Array&&c(b))for(e=s(d.length),n=new p(e);e>g;g++)u(n,g,m?h(d[g],g):d[g]);else for(l=b.call(d),n=new p;!(o=l.next()).done;g++)u(n,g,m?a(l,h,[o.value,g],!0):o.value);return n.length=g,n}})},"54a1":function(t,e,n){n("6c1c"),n("1654"),t.exports=n("95d5")},"6cf3":function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"collection"},[n("v-uni-view",[n("rf-swipe-action",t._l(t.collectionList,(function(e,i){return n("rf-swipe-action-item",{key:i,staticClass:"uni-list-cell",attrs:{options:t.options,info:e},on:{action:function(e){e=t.$handleEvent(e),t.bindClick(e)}}},[n("v-uni-view",{staticClass:"uni-media-list",on:{click:function(n){n=t.$handleEvent(n),t.navTo("/pages/product/product?id="+e.product.id)}}},[n("v-uni-image",{staticClass:"uni-media-list-logo",attrs:{mode:"aspectFill",src:e.product&&e.product.picture},on:{error:function(e){e=t.$handleEvent(e),t.onImageError(i)}}}),n("v-uni-view",{staticClass:"uni-media-list-body"},[n("v-uni-view",{staticClass:"uni-media-list-text-top"},[t._v(t._s(e.product&&e.product.name))]),n("v-uni-view",{staticClass:"uni-media-list-text-bottom"},[n("v-uni-text",{staticClass:"price"},[t._v(t._s(e.product&&e.product.minPriceSku.price))]),n("v-uni-text",[t._v(t._s(t._f("time")(e.created_at)))])],1)],1)],1)],1)})),1),t.collectionList.length>0?n("rf-load-more",{attrs:{status:t.loadingType}}):t._e()],1),0!==t.collectionList.length||t.loading?t._e():n("rf-empty",{attrs:{info:"快去收藏一些商品吧~"}}),t.loading?n("rf-loading"):t._e()],1)},o=[];n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return o}))},"75fc":function(t,e,n){"use strict";n.r(e);var i=n("a745"),o=n.n(i);function r(t){if(o()(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}var a=n("774e"),c=n.n(a),s=n("c8bb"),u=n.n(s);function f(t){if(u()(Object(t))||"[object Arguments]"===Object.prototype.toString.call(t))return c()(t)}function l(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function d(t){return r(t)||f(t)||l()}n.d(e,"default",(function(){return d}))},"774e":function(t,e,n){t.exports=n("d2d5")},"95d5":function(t,e,n){var i=n("40c3"),o=n("5168")("iterator"),r=n("481b");t.exports=n("584a").isIterable=function(t){var e=Object(t);return void 0!==e[o]||"@@iterator"in e||r.hasOwnProperty(i(e))}},a745:function(t,e,n){t.exports=n("f410")},c8bb:function(t,e,n){t.exports=n("54a1")},d2d5:function(t,e,n){n("1654"),n("549b"),t.exports=n("584a").Array.from},d613:function(t,e,n){var i=n("24fb");e=i(!1),e.push([t.i,'uni-page-body[data-v-7ff41d16]{background-color:#fff}.uni-media-list-logo[data-v-7ff41d16]{width:%?240?%;height:%?180?%}.uni-media-list-body[data-v-7ff41d16]{height:auto;-webkit-justify-content:space-around;justify-content:space-around}.uni-media-list-text-top[data-v-7ff41d16]{height:%?74?%;font-size:%?28?%;overflow:hidden}.uni-media-list-text-bottom[data-v-7ff41d16]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.price[data-v-7ff41d16]{font-size:%?28?%;color:#303133}.price[data-v-7ff41d16]:before{content:"￥";font-size:%?24?%;margin:0 %?2?% 0 %?8?%}body.?%PAGE?%[data-v-7ff41d16]{background-color:#fff}',""]),t.exports=e},f410:function(t,e,n){n("1af6"),t.exports=n("584a").Array.isArray}}]);