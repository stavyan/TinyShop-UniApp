(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-order-createOrder"],{"1d91":function(t,e,i){"use strict";i.r(e);var n=i("4dc7"),a=i.n(n);for(var s in n)"default"!==s&&function(t){i.d(e,t,(function(){return n[t]}))}(s);e["default"]=a.a},"2a00":function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,'uni-page-body[data-v-2d55c7c6]{background:#f8f8f8;padding-bottom:%?100?%}.address-section[data-v-2d55c7c6]{padding:%?30?% 0;background:#fff;position:relative}.address-section .order-content[data-v-2d55c7c6]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.address-section .no-default-address[data-v-2d55c7c6]{color:#333;font-size:%?32?%}.address-section .iconshouhuodizhi[data-v-2d55c7c6]{-webkit-flex-shrink:0;flex-shrink:0;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;width:%?90?%;color:#888;font-size:%?44?%}.address-section .cen[data-v-2d55c7c6]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-flex:1;-webkit-flex:1;flex:1;font-size:%?28?%;color:#303133}.address-section .name[data-v-2d55c7c6]{font-size:%?34?%;margin-right:%?24?%}.address-section .address[data-v-2d55c7c6]{margin-top:%?16?%;margin-right:%?20?%;color:#909399}.address-section .iconyou[data-v-2d55c7c6]{font-size:%?32?%;color:#909399;margin-right:%?30?%}.address-section .a-bg[data-v-2d55c7c6]{position:absolute;left:0;bottom:0;display:block;width:100%;height:%?5?%}.goods-section[data-v-2d55c7c6]{margin-top:%?16?%;background:#fff;padding-bottom:1px}.goods-section .g-header[data-v-2d55c7c6]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;height:%?84?%;padding:0 %?30?%;position:relative}.goods-section .logo[data-v-2d55c7c6]{display:block;width:%?50?%;height:%?50?%;border-radius:100px}.goods-section .name[data-v-2d55c7c6]{font-size:%?30?%;color:#606266;margin-left:%?24?%}.goods-section .g-item[data-v-2d55c7c6]{display:-webkit-box;display:-webkit-flex;display:flex;margin:%?20?% %?30?%}.goods-section .g-item uni-image[data-v-2d55c7c6]{-webkit-flex-shrink:0;flex-shrink:0;display:block;width:%?220?%;height:%?170?%;border-radius:%?4?%}.goods-section .g-item .right[data-v-2d55c7c6]{-webkit-box-flex:1;-webkit-flex:1;flex:1;padding-left:%?16?%;overflow:hidden}.goods-section .g-item .title[data-v-2d55c7c6]{font-size:%?28?%;color:#303133;line-height:%?40?%}.goods-section .g-item .spec[data-v-2d55c7c6]{font-size:%?22?%;color:#909399}.goods-section .g-item .price-box[data-v-2d55c7c6]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;font-size:%?28?%;color:#303133}.goods-section .g-item .price-box .price[data-v-2d55c7c6]{margin-bottom:%?4?%}.goods-section .g-item .price-box .number[data-v-2d55c7c6]{font-size:%?26?%;color:#606266;margin-left:%?20?%}.goods-section .g-item .step-box[data-v-2d55c7c6]{position:relative}.yt-list[data-v-2d55c7c6]{margin-top:%?16?%;background:#fff}.yt-list-cell[data-v-2d55c7c6]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;padding:%?10?% %?30?% %?10?% %?40?%;line-height:%?70?%;position:relative}.yt-list-cell.cell-hover[data-v-2d55c7c6]{background:#fafafa}.yt-list-cell.b-b[data-v-2d55c7c6]:after{left:%?30?%}.yt-list-cell .cell-icon[data-v-2d55c7c6]{height:%?32?%;width:%?32?%;font-size:%?22?%;color:#fff;text-align:center;line-height:%?32?%;background:#f85e52;border-radius:%?4?%;margin-right:%?12?%}.yt-list-cell .cell-icon.hb[data-v-2d55c7c6]{background:#ffaa0e}.yt-list-cell .cell-icon.lpk[data-v-2d55c7c6]{background:#3ab54a}.yt-list-cell .cell-more[data-v-2d55c7c6]{-webkit-align-self:center;align-self:center;font-size:%?24?%;color:#909399;margin-left:%?8?%;margin-right:%?-10?%}.yt-list-cell .cell-tit[data-v-2d55c7c6]{-webkit-box-flex:1;-webkit-flex:1;flex:1;font-size:%?26?%;color:#909399;margin-right:%?10?%}.yt-list-cell .cell-tip[data-v-2d55c7c6]{max-width:70%;font-size:%?26?%;color:#303133}.yt-list-cell .cell-tip.disabled[data-v-2d55c7c6]{color:#909399}.yt-list-cell .cell-tip.active[data-v-2d55c7c6]{color:#fa436a}.yt-list-cell .cell-tip.red[data-v-2d55c7c6]{color:#fa436a}.yt-list-cell .cell-tip .invoice[data-v-2d55c7c6]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.yt-list-cell .cell-tip .invoice .iconshanchu4[data-v-2d55c7c6]{font-size:%?28?%;color:#fa436a;margin-left:%?4?%}.yt-list-cell.desc-cell .cell-tit[data-v-2d55c7c6]{max-width:%?90?%}.yt-list-cell .desc[data-v-2d55c7c6]{-webkit-box-flex:1;-webkit-flex:1;flex:1;font-size:%?28?%;color:#303133}.pay-list[data-v-2d55c7c6]{padding-left:%?40?%;margin-top:%?16?%;background:#fff}.pay-list .pay-item[data-v-2d55c7c6]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;padding-right:%?20?%;line-height:1;height:%?110?%;position:relative}.pay-list .icon-weixinzhifu[data-v-2d55c7c6]{width:%?80?%;font-size:%?40?%;color:#6bcc03}.pay-list .icon-alipay[data-v-2d55c7c6]{width:%?80?%;font-size:%?40?%;color:#06b4fd}.pay-list .icon-xuanzhong2[data-v-2d55c7c6]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;width:%?60?%;height:%?60?%;font-size:%?40?%;color:#fa436a}.pay-list .tit[data-v-2d55c7c6]{font-size:%?32?%;color:#303133;-webkit-box-flex:1;-webkit-flex:1;flex:1}.footer[data-v-2d55c7c6]{position:fixed;left:0;bottom:0;z-index:995;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;width:100%;height:%?90?%;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;font-size:%?30?%;background-color:#fff;z-index:998;color:#606266;box-shadow:0 -1px 5px rgba(0,0,0,.1)}.footer .price-content[data-v-2d55c7c6]{padding-left:%?30?%}.footer .price-tip[data-v-2d55c7c6]{color:#fa436a;margin-left:%?8?%}.footer .price[data-v-2d55c7c6]{font-size:%?32?%;color:#fa436a}.footer .submit[data-v-2d55c7c6]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;width:%?280?%;height:100%;color:#fff;font-size:%?32?%;background-color:#fa436a}.footer .disabled[data-v-2d55c7c6]{background-color:#dcdfe6}.mask[data-v-2d55c7c6]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:end;-webkit-align-items:flex-end;align-items:flex-end;position:fixed;left:0;top:var(--window-top);bottom:0;width:100%;background:transparent;z-index:9995;-webkit-transition:.3s;transition:.3s}.mask .mask-content[data-v-2d55c7c6]{width:100%;max-height:70vh;min-height:16vh;background:#f3f3f3;-webkit-transform:translateY(100%);transform:translateY(100%);-webkit-transition:.3s;transition:.3s;overflow-y:scroll}.mask .mask-content .no-coupon[data-v-2d55c7c6]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;line-height:16vh}.mask.none[data-v-2d55c7c6]{display:none}.mask.show[data-v-2d55c7c6]{background:rgba(0,0,0,.4)}.mask.show .mask-content[data-v-2d55c7c6]{-webkit-transform:translateY(0);transform:translateY(0)}.coupon-item[data-v-2d55c7c6]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;margin:%?20?% %?24?%;background:#fff}.coupon-item .con[data-v-2d55c7c6]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;position:relative;height:%?120?%;padding:0 %?30?%}.coupon-item .con[data-v-2d55c7c6]:after{position:absolute;left:0;bottom:0;content:"";width:100%;height:0;border-bottom:1px dashed #f3f3f3;-webkit-transform:scaleY(50%);transform:scaleY(50%)}.coupon-item .left[data-v-2d55c7c6]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-flex:1;-webkit-flex:1;flex:1;overflow:hidden;height:%?100?%}.coupon-item .title[data-v-2d55c7c6]{font-size:%?32?%;color:#303133;margin-bottom:%?10?%}.coupon-item .time[data-v-2d55c7c6]{font-size:%?24?%;color:#909399}.coupon-item .right[data-v-2d55c7c6]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;font-size:%?26?%;color:#606266;height:%?100?%}.coupon-item .price[data-v-2d55c7c6]{font-size:%?40?%;color:#fa436a}.coupon-item .price[data-v-2d55c7c6]:before{content:"￥";font-size:%?34?%}.coupon-item .price-discount[data-v-2d55c7c6]{font-size:%?36?%;color:#fa436a}.coupon-item .tips[data-v-2d55c7c6]{font-size:%?24?%;color:#909399;line-height:%?60?%;padding-left:%?30?%}.coupon-item .circle[data-v-2d55c7c6]{position:absolute;left:%?-6?%;bottom:%?-10?%;z-index:10;width:%?20?%;height:%?20?%;background:#f3f3f3;border-radius:100px}.coupon-item .circle.r[data-v-2d55c7c6]{left:auto;right:%?-6?%}body.?%PAGE?%[data-v-2d55c7c6]{background:#f8f8f8}',""]),t.exports=e},"4dc7":function(t,e,i){"use strict";var n=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("8e6e"),i("456d");var a=n(i("bd86"));i("96cf");var s=n(i("3b8d"));i("ac6a");var c=i("c4c8"),o=n(i("d138")),r=n(i("13f1")),l=n(i("8f09")),d=n(i("b19a"));function u(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function p(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?u(Object(i),!0).forEach((function(e){(0,a.default)(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):u(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var v={components:{mpvuePicker:r.default,empty:o.default,rfImage:d.default},data:function(){return{maskState:0,desc:"",payType:1,orderDetail:{},pointExchangeType:[],loadingType:"more",pickerShippingType:[{label:"物流配送",value:1},{label:"买家自提",value:2}],currentShippingType:{},currentCompany:{},currentPickupPoint:{},cartIds:null,invoiceItem:{},addressData:{},couponItem:{},pointConfig:{},product:null,shippingMoney:0,isUsePoint:!1,isUsePointDisabled:!1,data:{},userInfo:{},use_point:0,invoiceContent:null}},computed:{amountGoods:function(){var t=0;return this.orderDetail.products&&this.orderDetail.products.forEach((function(e){t+=parseInt(e.num,10)*parseFloat(e.price)})),this.floor(t)},discountAmount:function(){var t=this.floor((100-this.couponItem.discount)/100*this.amountGoods);return 2===parseInt(this.couponItem.type,10)?t:this.couponItem.money||0},realAmount:function(){var t=this.amountGoods-this.discountAmount+parseFloat(this.shippingMoney)-(this.isUsePoint?this.maxUsePointFee:0);return(this.floor(parseFloat(this.invoiceAmount)+t)||0).toFixed(2)},invoiceAmount:function(){var t=this.amountGoods-this.discountAmount-(this.isUsePoint?this.maxUsePointFee:0);return this.invoiceItem.type?this.floor(this.orderDetail.invoice.order_invoice_tax/100*t):0},maxUsePoint:function(){return this.orderDetail.max_use_point>uni.getStorageSync("userInfo").account.user_integral?uni.getStorageSync("userInfo").account.user_integral:this.orderDetail.max_use_point},maxUsePointFee:function(){return this.maxUsePoint*this.pointConfig.convert_rate}},filters:{time:function(t){return(0,l.default)(1e3*t).format("YY/MM/DD HH:mm")}},onShow:function(){this.addressData&&this.addressData.realname&&this.getOrderFreightFee()},onLoad:function(t){this.initData(t)},methods:{handleInvoiceChange:function(t){this.invoiceContent=t},navTo:function(t){uni.navigateTo({url:t})},closeInvoice:function(){this.invoiceItem={}},floor:function(t){return Math.floor(100*t)/100},handleIsUsePoint:function(){this.isUsePoint?(this.isUsePoint=!1,this.use_point=0):(this.isUsePoint=!0,this.use_point=this.maxUsePoint)},showSinglePicker:function(){this.$refs.shippingTypePicker.show()},showCompanyPicker:function(){this.$refs.companyTypePicker.show()},showPickupPointPicker:function(){this.$refs.pickupPointPicker.show()},onConfirm:function(t){t.value=t.value[0],this.currentShippingType=t,2==this.currentShippingType.value?parseFloat(this.realAmount)>parseFloat(this.orderDetail.pickup_point_config.pickup_point_freight)?this.shippingMoney=0:this.shippingMoney=parseFloat(this.orderDetail.pickup_point_config.pickup_point_fee)||0:(this.currentCompany=this.orderDetail.company[0],this.getOrderFreightFee())},onCompanyConfirm:function(){var t=(0,s.default)(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.value=e.value[0],this.currentCompany=e,!this.orderDetail.is_full_mail){t.next=5;break}return this.shippingMoney=0,t.abrupt("return");case 5:this.getOrderFreightFee();case 6:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),onPickupPointConfirm:function(){var t=(0,s.default)(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.value=e.value[0],this.currentPickupPoint=e,!this.currentPickupPoint){t.next=5;break}return this.shippingMoney=parseFloat(this.orderDetail.pickup_point_config.pickup_point_fee)||0,t.abrupt("return");case 5:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),getOrderFreightFee:function(){var t=(0,s.default)(regeneratorRuntime.mark((function t(){var e,i=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e={},this.addressData&&(e.address_id=this.addressData.id),this.currentCompany&&(e.company_id=this.currentCompany.value),uni.showLoading({title:"加载中..."}),t.next=6,this.$get("".concat(c.orderFreightFee),p({},e,{},this.data)).then((function(t){i.shippingMoney=t.data.shipping_money||0})).catch((function(t){console.log(t)}));case 6:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),initData:function(){var t=(0,s.default)(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,JSON.parse(e.data);case 2:return this.data=t.sent,this.userInfo=uni.getStorageSync("userInfo"),t.next=6,this.getOrderDetail(this.data);case 6:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),getOrderDetail:function(){var t=(0,s.default)(regeneratorRuntime.mark((function t(e){var i=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return uni.showLoading({title:"加载中..."}),t.next=3,this.$get("".concat(c.orderPreview),p({},e)).then((function(t){i.orderDetail=t.data,i.pointConfig=i.orderDetail.point_config,i.addressData=i.orderDetail.address,i.currentShippingType=i.pickerShippingType[0],i.orderDetail.company.forEach((function(t){t.label=t.title,t.value=t.id})),i.currentCompany=i.orderDetail.company[0],i.pointExchangeType=[],i.orderDetail.products.forEach((function(t){i.pointExchangeType.push(t.point_exchange_type)})),1===parseInt(i.orderDetail.pickup_point_config.buyer_self_lifting,10)?(i.orderDetail.pickup_point_config.list.forEach((function(t){t.label="".concat(t.contact||"无名"," - ").concat(t.name||"未知"," - ").concat(t.address||"未知"),t.value=t.id})),i.currentPickupPoint=i.orderDetail.pickup_point_config.list[0]||{},i.shippingMoney=t.data.preview.shipping_money):i.orderDetail.pickup_point_config.list=[]})).catch((function(t){console.log(t)}));case 3:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),toggleMask:function(t){var e=this,i="show"===t?10:300,n="show"===t?1:0;this.maskState=2,setTimeout((function(){e.maskState=n}),i)},numberChange:function(t){this.number=t.number},changePayType:function(t){this.payType=t},submit:function(){var t=(0,s.default)(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(uni.showLoading({title:"加载中..."}),e={},!this.addressData||!this.addressData.id){t.next=6;break}e.address_id=this.addressData.id,t.next=8;break;case 6:return this.$api.msg("请选择收货地址"),t.abrupt("return");case 8:return this.couponItem&&this.couponItem.id&&(e.coupon_id=this.couponItem.id),this.invoiceItem&&this.invoiceItem.id&&(e.invoice_id=this.invoiceItem.id,e.invoice_content=this.invoiceContent||this.orderDetail.invoice.list[0]),this.currentCompany&&this.currentCompany.value&&(e.company_id=this.currentCompany.value),this.currentPickupPoint&&this.currentPickupPoint.value&&(e.pickup_id=this.currentPickupPoint.value),this.currentShippingType&&this.currentShippingType.value&&(e.shipping_type=this.currentShippingType.value),this.use_point&&(e.use_point=this.use_point),t.next=16,this.$post("".concat(c.orderCreate),p({},e,{},this.data)).then((function(t){var e={};e.order_id=parseInt(t.data.id,10),1===parseInt(t.data.pay_status,10)?uni.redirectTo({url:"/pages/money/paySuccess"}):uni.redirectTo({url:"/pages/money/pay?id=".concat(t.data.id)})})).catch((function(t){console.log(t)}));case 16:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),stopPrevent:function(){},selectCoupon:function(t){this.amountGoods<t.at_least?this.$api.msg("不满足优惠券使用条件~"):(this.maskState=0,this.couponItem=t)}}};e.default=v},5923:function(t,e,i){var n=i("2a00");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("4f06").default;a("6e1a2f26",n,!0,{sourceMap:!1,shadowMode:!1})},"7c1f":function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",[i("v-uni-navigator",{staticClass:"address-section",attrs:{url:"/pages/address/address?source=1"}},[i("v-uni-view",{staticClass:"order-content"},[i("i",{staticClass:"iconfont iconshouhuodizhi"}),t.addressData?i("v-uni-view",{staticClass:"cen"},[i("v-uni-view",{staticClass:"top"},[i("v-uni-text",{staticClass:"name"},[t._v(t._s(t.addressData.realname))]),i("v-uni-text",{staticClass:"mobile"},[t._v(t._s(t.addressData.mobile))])],1),i("v-uni-text",{staticClass:"address"},[t._v(t._s(t.addressData.address_name)+" "+t._s(t.addressData.address_details))])],1):i("v-uni-view",{staticClass:"no-default-address"},[t._v("请选择收货地址")]),i("i",{staticClass:"iconfont iconyou"})],1),i("v-uni-image",{staticClass:"a-bg",attrs:{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAu4AAAAFCAYAAAAaAWmiAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6Rjk3RjkzMjM2NzMxMTFFOUI4RkU4OEZGMDcxQzgzOEYiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6Rjk3RjkzMjQ2NzMxMTFFOUI4RkU4OEZGMDcxQzgzOEYiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpGOTdGOTMyMTY3MzExMUU5QjhGRTg4RkYwNzFDODM4RiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpGOTdGOTMyMjY3MzExMUU5QjhGRTg4RkYwNzFDODM4RiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PrEOZlQAAAiuSURBVHjazJp7bFvV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"}})],1),i("v-uni-view",{staticClass:"goods-section"},[i("v-uni-view",{staticClass:"g-header b-b"},[i("v-uni-text",{staticClass:"name"},[t._v("商品列表")])],1),t._l(t.orderDetail.products,(function(e,n){return i("v-uni-view",{key:n,staticClass:"g-item",on:{click:function(i){i=t.$handleEvent(i),t.navTo("/pages/product/product?id="+e.product_id)}}},[i("rf-image",{attrs:{src:e.product_picture}}),i("v-uni-view",{staticClass:"right"},[i("v-uni-text",{staticClass:"title clamp in2line"},[t._v(t._s(e.product_name))]),i("v-uni-text",{staticClass:"spec"},[t._v(t._s(e.sku_name||"基础款"))]),i("v-uni-view",{staticClass:"price-box"},[i("v-uni-text",{staticClass:"price"},[t._v("￥ "+t._s(e.price))]),i("v-uni-text",{staticClass:"number"},[t._v("* "+t._s(e.num))])],1)],1)],1)}))],2),i("v-uni-view",{staticClass:"yt-list"},[i("v-uni-view",{staticClass:"yt-list-cell b-b",on:{click:function(e){e=t.$handleEvent(e),t.toggleMask("show")}}},[i("v-uni-view",{staticClass:"cell-icon"},[t._v("券")]),i("v-uni-text",{staticClass:"cell-tit clamp"},[t._v("优惠券")]),i("v-uni-text",{staticClass:"cell-tip active"},[t._v(t._s(t.couponItem.title||"选择优惠券"))]),i("v-uni-text",{staticClass:"cell-more wanjia wanjia-gengduo-d"})],1),i("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:1===parseInt(t.orderDetail.is_logistics,10),expression:"parseInt(orderDetail.is_logistics, 10) === 1"}],staticClass:"yt-list-cell b-b",on:{click:function(e){e=t.$handleEvent(e),t.showSinglePicker(e)}}},[i("v-uni-view",{staticClass:"cell-icon"},[t._v("寄")]),i("v-uni-text",{staticClass:"cell-tit clamp"},[t._v("配送方式")]),i("v-uni-text",{staticClass:"cell-tip active"},[t._v(t._s(t.currentShippingType.label||"选择配送方式"))]),i("v-uni-text",{staticClass:"cell-more wanjia wanjia-gengduo-d"})],1),i("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:1===parseInt(t.currentShippingType.value,10),expression:"parseInt(currentShippingType.value, 10) === 1"}],staticClass:"yt-list-cell b-b",on:{click:function(e){e=t.$handleEvent(e),t.showCompanyPicker(e)}}},[i("v-uni-view",{staticClass:"cell-icon"},[t._v("递")]),i("v-uni-text",{staticClass:"cell-tit clamp"},[t._v("快递公司")]),i("v-uni-text",{staticClass:"cell-tip active"},[t._v(t._s(t.currentCompany&&t.currentCompany.label||"选择快递公司"))]),i("v-uni-text",{staticClass:"cell-more wanjia wanjia-gengduo-d"})],1),i("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:2===parseInt(t.currentShippingType.value,10),expression:"parseInt(currentShippingType.value, 10) === 2"}],staticClass:"yt-list-cell b-b",on:{click:function(e){e=t.$handleEvent(e),t.showPickupPointPicker(e)}}},[i("v-uni-view",{staticClass:"cell-icon"},[t._v("提")]),i("v-uni-text",{staticClass:"cell-tit clamp"},[t._v("门店自提点")]),i("v-uni-text",{staticClass:"cell-tip active in1line"},[t._v(t._s(t.currentPickupPoint&&t.currentPickupPoint.label||"门店自提点"))]),i("v-uni-text",{staticClass:"cell-more wanjia wanjia-gengduo-d"})],1),2==t.pointExchangeType[0]||4==t.pointExchangeType[0]?i("v-uni-view",{staticClass:"yt-list-cell b-b"},[i("v-uni-view",{staticClass:"cell-icon hb"},[t._v("分")]),i("v-uni-text",{staticClass:"cell-tit clamp"},[t._v("需要使用 "+t._s(t.orderDetail.preview&&t.orderDetail.preview.point||0)+" 积分")]),i("v-uni-text",{staticClass:"cell-tip disabled"}),i("v-uni-view",{staticClass:"cell-tip red"},[i("v-uni-label",{staticClass:"radio"},[i("v-uni-radio",{attrs:{siza:"mini",color:"#fa436a",disabled:!0,checked:!0}})],1)],1)],1):i("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:1===parseInt(t.pointConfig.is_open),expression:"parseInt(pointConfig.is_open) === 1"}],staticClass:"yt-list-cell b-b"},[i("v-uni-view",{staticClass:"cell-icon hb"},[t._v("减")]),i("v-uni-text",{staticClass:"cell-tit clamp"},[t._v("可用"+t._s(t.maxUsePoint)+"积分抵用"+t._s(t.maxUsePointFee)+"元")]),i("v-uni-text",{staticClass:"cell-tip disabled"}),i("v-uni-view",{staticClass:"cell-tip red"},[i("v-uni-label",{staticClass:"radio"},[i("v-uni-radio",{attrs:{siza:"mini",color:"#fa436a",disabled:t.isUsePointDisabled,checked:t.isUsePoint},on:{click:function(e){e=t.$handleEvent(e),t.handleIsUsePoint(e)}}})],1)],1)],1)],1),i("v-uni-view",{staticClass:"yt-list"},[i("v-uni-view",{staticClass:"yt-list-cell b-b"},[i("v-uni-text",{staticClass:"cell-tit clamp"},[t._v("商品金额")]),i("v-uni-text",{staticClass:"cell-tip red"},[t._v("￥"+t._s(t.amountGoods))])],1),i("v-uni-view",{staticClass:"yt-list-cell b-b"},[i("v-uni-text",{staticClass:"cell-tit clamp"},[t._v("优惠金额")]),i("v-uni-text",{staticClass:"cell-tip red"},[t._v("-￥ "+t._s(t.discountAmount))])],1),i("v-uni-view",{staticClass:"yt-list-cell b-b"},[i("v-uni-text",{staticClass:"cell-tit clamp"},[t._v("运费")]),i("v-uni-text",{staticClass:"cell-tip red"},[i("v-uni-text",[t._v("￥ "+t._s(t.shippingMoney))])],1)],1),i("v-uni-view",{staticClass:"yt-list-cell b-b"},[i("v-uni-text",{staticClass:"cell-tit clamp"},[t._v("发票税费")]),i("v-uni-text",{staticClass:"cell-tip red"},[i("v-uni-text",[t._v("￥ "+t._s(t.invoiceAmount))])],1)],1),i("v-uni-view",{staticClass:"yt-list-cell b-b"},[i("v-uni-text",{staticClass:"cell-tit clamp"},[t._v("赠送积分")]),i("v-uni-text",{staticClass:"cell-tip"},[i("v-uni-text",[t._v(t._s(t.orderDetail.preview&&t.orderDetail.preview.give_point)+" 积分")])],1)],1),i("v-uni-navigator",{attrs:{url:"/pages/invoice/invoice?source=1"}},[i("v-uni-view",{staticClass:"yt-list-cell b-b"},[i("v-uni-text",{staticClass:"cell-tit clamp"},[t._v("开具发票")]),i("v-uni-view",{staticClass:"cell-tip"},[t.invoiceItem.type?i("v-uni-view",{staticClass:"invoice"},[t._v(t._s("电子发票 - "+(1===parseInt(t.invoiceItem.type,10)?"公司":"个人")+" - "+t.invoiceItem.title)),i("i",{staticClass:"iconfont iconshanchu4"})]):i("v-uni-text",[t._v("本次不开具发票")]),t.invoiceItem.type?i("v-uni-view",[i("v-uni-radio-group",{staticClass:"gender",attrs:{name:"gender"}},t._l(t.orderDetail.invoice&&t.orderDetail.invoice.list,(function(e,n){return i("v-uni-label",{key:n,staticClass:"gender-item"},[i("v-uni-radio",{staticClass:"gender-item-radio",staticStyle:{transform:"scale(0.7)"},attrs:{color:"#fa436a",checked:0===n},on:{click:function(i){i.stopPropagation(),i=t.$handleEvent(i),t.handleInvoiceChange(e)}}}),i("v-uni-text",{staticClass:"gender-item-text"},[t._v(t._s(e))])],1)})),1)],1):t._e()],1)],1)],1),i("v-uni-view",{staticClass:"yt-list-cell desc-cell"},[i("v-uni-text",{staticClass:"cell-tit clamp"},[t._v("备注")]),i("v-uni-input",{staticClass:"desc",attrs:{type:"text",placeholder:"请填写备注信息","placeholder-class":"placeholder"},model:{value:t.desc,callback:function(e){t.desc=e},expression:"desc"}})],1)],1),i("v-uni-view",{staticClass:"footer"},[i("v-uni-view",{staticClass:"price-content in1line"},[i("v-uni-text",[t._v("实付款")]),i("v-uni-text",{staticClass:"price-tip"},[t._v("￥")]),i("v-uni-text",{staticClass:"price"},[t._v(t._s(t.realAmount+" "+(t.maxUsePoint>0&&(t.isUsePoint?" + "+t.maxUsePoint+" 积分":"")||(t.orderDetail.preview&&t.orderDetail.preview.point?" + "+(t.orderDetail.preview&&t.orderDetail.preview.point)+" 积分":""))))])],1),t.orderDetail.preview&&t.userInfo.account.user_integral>=t.orderDetail.preview.point?i("v-uni-text",{staticClass:"submit",on:{click:function(e){e=t.$handleEvent(e),t.submit(e)}}},[t._v("提交订单")]):i("v-uni-text",{staticClass:"submit disabled"},[t._v("积分不足")])],1),i("v-uni-view",{staticClass:"mask",class:0===t.maskState?"none":1===t.maskState?"show":"",on:{click:function(e){e=t.$handleEvent(e),t.toggleMask(e)}}},[i("v-uni-view",{staticClass:"mask-content",on:{click:function(e){e.stopPropagation(),e.preventDefault(),e=t.$handleEvent(e),t.stopPrevent(e)}}},[t._l(t.orderDetail.coupons,(function(e,n){return i("v-uni-view",{key:n,staticClass:"coupon-item"},[i("v-uni-view",{staticClass:"con"},[i("v-uni-view",{staticClass:"left",on:{click:function(i){i=t.$handleEvent(i),t.selectCoupon(e)}}},[i("v-uni-text",{staticClass:"title"},[t._v(t._s(e.title))]),i("v-uni-text",{staticClass:"time in1line"},[t._v("有效期 "+t._s(t._f("time")(e.start_time))+" - "+t._s(t._f("time")(e.end_time)))])],1),i("v-uni-view",{staticClass:"right"},[1===parseInt(e.couponType.type,10)?i("v-uni-text",{staticClass:"price"},[t._v(t._s(e.money))]):i("v-uni-text",{staticClass:"price-discount"},[t._v(t._s(e.discount/10)+"折")]),i("v-uni-text",[t._v("满"+t._s(e.at_least)+"可用")])],1),i("v-uni-view",{staticClass:"circle l"}),i("v-uni-view",{staticClass:"circle r"})],1),i("v-uni-view",{staticClass:"tips"},[i("v-uni-text",{directives:[{name:"show",rawName:"v-show",value:e.range_type&&e.max_fetch,expression:"item.range_type && item.max_fetch"}]},[t._v(t._s(0===parseInt(e.range_type,10)?"部分产品使用":"全场产品使用")+"  领取上限"+t._s(e.max_fetch))]),i("v-uni-text",[t._v(t._s(0===parseInt(e.term_of_validity_type,10)?"固定时间":"领取之日起")+"生效")])],1)],1)})),t.orderDetail.coupons&&0===t.orderDetail.coupons.length?i("v-uni-text",{staticClass:"no-coupon"},[t._v("暂无优惠券")]):t._e()],2)],1),i("mpvue-picker",{ref:"shippingTypePicker",attrs:{themeColor:"#fa436a",mode:"selector",deepLength:1,pickerValueArray:t.pickerShippingType},on:{onConfirm:function(e){e=t.$handleEvent(e),t.onConfirm(e)}}}),i("mpvue-picker",{ref:"companyTypePicker",attrs:{themeColor:"#fa436a",mode:"selector",deepLength:1,pickerValueArray:t.orderDetail.company},on:{onConfirm:function(e){e=t.$handleEvent(e),t.onCompanyConfirm(e)}}}),i("mpvue-picker",{ref:"pickupPointPicker",attrs:{themeColor:"#fa436a",mode:"selector",deepLength:1,pickerValueArray:t.orderDetail.pickup_point_config&&t.orderDetail.pickup_point_config.list},on:{onConfirm:function(e){e=t.$handleEvent(e),t.onPickupPointConfirm(e)}}})],1)},a=[];i.d(e,"a",(function(){return n})),i.d(e,"b",(function(){return a}))},"80da":function(t,e,i){"use strict";var n=i("5923"),a=i.n(n);a.a},d180:function(t,e,i){"use strict";i.r(e);var n=i("7c1f"),a=i("1d91");for(var s in a)"default"!==s&&function(t){i.d(e,t,(function(){return a[t]}))}(s);i("80da");var c=i("2877"),o=Object(c["a"])(a["default"],n["a"],n["b"],!1,null,"2d55c7c6",null);e["default"]=o.exports}}]);