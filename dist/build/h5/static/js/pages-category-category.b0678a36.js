(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-category-category"],{"0585":function(t,e,a){"use strict";var i=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("ac6a"),a("6b54"),a("386d"),a("96cf");var r=i(a("3b8d")),n=a("c4c8"),o=i(a("b9cb")),c=a("2b74"),s={components:{rfSearchBar:o.default},data:function(){return{hotSearchDefault:"请输入关键字",showCategoryIndex:0,categoryList:[],search:{},cateTop:{},animation:"animation-slide-right",loading:!0,errorImage:this.$mAssetsPath.errorImage}},onLoad:function(){this.initData()},methods:{navTo:function(t){this.$mRouter.push({route:t})},initData:function(){var t=(0,r.default)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.search=uni.getStorageSync("search")||{},this.hotSearchDefault="请输入关键字 "+(this.search.hot_search_default?"如: "+this.search.hot_search_default:""),this.getProductCate(),this.initCartItemCount();case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),initCartItemCount:function(){var t=(0,r.default)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!(this.$mStore.getters.hasLogin&&parseInt(uni.getStorageSync("cartNum"),10)>0)){t.next=5;break}return t.next=3,uni.setTabBarBadge({index:this.$mConstDataConfig.cartIndex,text:uni.getStorageSync("cartNum").toString()});case 3:t.next=7;break;case 5:uni.removeStorageSync("cartNum"),uni.removeTabBarBadge({index:this.$mConstDataConfig.cartIndex});case 7:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),getProductCate:function(){var t=(0,r.default)(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$http.get("".concat(n.productCate)).then((function(t){e.loading=!1,e.getAdvList(),t.data.forEach((function(t){t.child.length>0&&e.categoryList.push(t)}))})).catch((function(){e.loading=!1}));case 2:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),getAdvList:function(){var t=(0,r.default)(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$http.get("".concat(c.advList),{location:"cate_top"}).then((function(t){e.cateTop=t.data.cate_top[0]}));case 2:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),showCategory:function(t){var e=this;this.showCategoryIndex=t,this.animation="animation-slide-right",setTimeout((function(){e.animation=""}),1e3)},toSearch:function(){this.$mRouter.push({route:"/pages/index/search/search?data=".concat(JSON.stringify(this.search))})},toIndex:function(){this.$mRouter.switchTab({route:"/pages/index/index"})},indexTopToDetailPage:function(t,e){if(t&&e){switch(t){case"product_view":e="/pages/product/product?id=".concat(e);break;case"article_view":this.$mHelper.toast("article_view");break;case"coupon_view":e="/pages/user/coupon/detail?id=".concat(e);break;case"helper_view":this.$mHelper.toast("helper_view");break;case"product_list_for_cate":e="/pages/product/list?cate_id=".concat(e);break;default:break}this.$mRouter.push({route:e})}}}};e.default=s},"0d35c":function(t,e,a){var i=a("0fe4");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var r=a("4f06").default;r("b735245e",i,!0,{sourceMap:!1,shadowMode:!1})},"0fe4":function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,"uni-page-body[data-v-2f0a8979]{background-color:#fff}.rf-category .category-list[data-v-2f0a8979]{width:100%;background-color:#fff;display:-webkit-box;display:-webkit-flex;display:flex}.rf-category .category-list .left[data-v-2f0a8979],.rf-category .category-list .right[data-v-2f0a8979]{position:absolute;top:%?100?%;bottom:%?0?%}.rf-category .category-list .left[data-v-2f0a8979]{width:24%;left:%?0?%;background-color:#f2f2f2}.rf-category .category-list .left .row[data-v-2f0a8979]{width:100%;height:%?90?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.rf-category .category-list .left .row .text[data-v-2f0a8979]{width:100%;position:relative;font-size:%?28?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;color:#3c3c3c}.rf-category .category-list .left .row .text .block[data-v-2f0a8979]{position:absolute;width:%?0?%;left:0}.rf-category .category-list .left .row.on[data-v-2f0a8979]{height:%?100?%;background-color:#fff}.rf-category .category-list .left .row.on .text[data-v-2f0a8979]{font-size:%?30?%;font-weight:600;color:#2d2d2d}.rf-category .category-list .left .row.on .text .block[data-v-2f0a8979]{width:%?10?%;height:80%;top:10%;background-color:#f06c7a}.rf-category .category-list .right[data-v-2f0a8979]{width:76%;left:24%;background-color:#fff}.rf-category .category-list .right .category[data-v-2f0a8979]{width:calc(100%);padding:%?20?% %?15?%}.rf-category .category-list .right .category .banner[data-v-2f0a8979]{width:96%;margin:0 auto %?20?%;height:24.262vw;border-radius:%?10?%;overflow:hidden;box-shadow:%?0?% %?5?% %?20?% rgba(0,0,0,.3)}.rf-category .category-list .right .category .banner uni-image[data-v-2f0a8979]{width:100%;height:24.262vw}.rf-category .category-list .right .category .list[data-v-2f0a8979]{margin-top:%?40?%;width:100%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-flex-wrap:wrap;flex-wrap:wrap}.rf-category .category-list .right .category .list .box[data-v-2f0a8979]{width:calc(71.44vw / 3);margin-bottom:%?30?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-flex-wrap:wrap;flex-wrap:wrap}.rf-category .category-list .right .category .list .box uni-image[data-v-2f0a8979]{width:64%;height:calc(71.44vw / 3 * .64)}.rf-category .category-list .right .category .list .box .text[data-v-2f0a8979]{margin-top:%?8?%;width:100%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;font-size:%?26?%}.rf-category .category-list .right .category .no-data[data-v-2f0a8979]{margin:%?48?% 0;color:#909399;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.rf-category .category-list .right .category .no-data .iconfont[data-v-2f0a8979]{margin-right:%?20?%;font-size:%?48?%}body.?%PAGE?%[data-v-2f0a8979]{background-color:#fff}",""]),t.exports=e},"268a":function(t,e,a){"use strict";a.r(e);var i=a("2daf"),r=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,(function(){return i[t]}))}(n);e["default"]=r.a},"2daf":function(t,e,a){"use strict";var i=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("96cf");var r=i(a("3b8d")),n={props:{headerShow:{type:Boolean,default:!0},inputDisabled:{type:Boolean,default:!1},placeholder:{type:String,default:"请输入关键字"},icon:{type:String,default:null},title:{type:String,default:null}},data:function(){return{afterHeaderOpacity:1,headerPosition:"fixed",headerTop:null,statusTop:null,nVueTitle:null,searchValue:this.placeholder}},methods:{handleSearchValueChange:function(t){this.searchValue=t.detail.value},discard:function(){},link:function(){this.$emit("link")},toSearch:function(){var t=(0,r.default)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$emit("search",{searchValue:this.searchValue});case 2:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}};e.default=n},"3ec5":function(t,e,a){var i=a("ceae");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var r=a("4f06").default;r("2aebdc39",i,!0,{sourceMap:!1,shadowMode:!1})},"461a":function(t,e,a){"use strict";a.r(e);var i=a("f9c3"),r=a("475c");for(var n in r)"default"!==n&&function(t){a.d(e,t,(function(){return r[t]}))}(n);a("8c2e");var o,c=a("f0c5"),s=Object(c["a"])(r["default"],i["b"],i["c"],!1,null,"2f0a8979",null,!1,i["a"],o);e["default"]=s.exports},"475c":function(t,e,a){"use strict";a.r(e);var i=a("0585"),r=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,(function(){return i[t]}))}(n);e["default"]=r.a},"8c2e":function(t,e,a){"use strict";var i=a("0d35c"),r=a.n(i);r.a},"90ea":function(t,e,a){"use strict";var i;a.d(e,"b",(function(){return r})),a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){return i}));var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"rf-search-bar"},[t.headerShow?a("v-uni-view",{staticClass:"status",style:{position:t.headerPosition,top:t.statusTop,opacity:t.afterHeaderOpacity}}):t._e(),t.headerShow?a("v-uni-view",{staticClass:"header",style:{position:t.headerPosition,top:t.headerTop,opacity:t.afterHeaderOpacity}},[a("v-uni-view",{staticClass:"addr",on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.link.apply(void 0,arguments)}}},[a("i",{staticClass:"iconfont",class:t.icon}),t._v(t._s(t.title))]),t.inputDisabled?a("v-uni-view",{staticClass:"input-box",on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.discard.apply(void 0,arguments)}}},[a("v-uni-input",{staticStyle:{color:"#888"},attrs:{value:t.placeholder,placeholder:t.placeholder?"":"请输入关键字","placeholder-style":"color:#ccc;"},on:{confirm:function(e){arguments[0]=e=t.$handleEvent(e),t.toSearch.apply(void 0,arguments)},input:function(e){arguments[0]=e=t.$handleEvent(e),t.handleSearchValueChange.apply(void 0,arguments)}}}),a("v-uni-view",{staticClass:"icon search",on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.toSearch.apply(void 0,arguments)}}})],1):a("v-uni-view",{staticClass:"input-box"},[a("v-uni-input",{attrs:{disabled:!0,value:t.placeholder,"placeholder-style":"color:#ccc;"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toSearch.apply(void 0,arguments)}}}),a("v-uni-view",{staticClass:"icon search"})],1)],1):t._e(),t.headerShow?a("v-uni-view",{staticClass:"place"}):t._e()],1)},n=[]},b9cb:function(t,e,a){"use strict";a.r(e);var i=a("90ea"),r=a("268a");for(var n in r)"default"!==n&&function(t){a.d(e,t,(function(){return r[t]}))}(n);a("c0b1");var o,c=a("f0c5"),s=Object(c["a"])(r["default"],i["b"],i["c"],!1,null,"179708de",null,!1,i["a"],o);e["default"]=s.exports},c0b1:function(t,e,a){"use strict";var i=a("3ec5"),r=a.n(i);r.a},ceae:function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,".rf-search-bar[data-v-179708de]{background-color:#fff}.rf-search-bar .status[data-v-179708de]{width:100%;height:0;position:fixed;z-index:10;background-color:#fff;top:0}.rf-search-bar .header[data-v-179708de]{width:100%;height:%?100?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;position:fixed;top:0;z-index:10;background-color:#fff}.rf-search-bar .header .addr[data-v-179708de]{width:%?120?%;height:%?60?%;-webkit-flex-shrink:0;flex-shrink:0;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;font-size:%?28?%}.rf-search-bar .header .addr .iconfont[data-v-179708de]{height:%?60?%;margin-right:%?6?%;margin-left:%?15?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;font-size:%?35?%;color:#fa436a}.rf-search-bar .header .input-box[data-v-179708de]{width:100%;height:%?60?%;background-color:#f5f5f5;border-radius:%?30?%;position:relative;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;margin:0 %?20?% 0 %?10?%}.rf-search-bar .header .input-box .icon[data-v-179708de]{z-index:9;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;position:absolute;top:0;right:0;width:%?60?%;height:%?60?%;font-size:%?34?%;color:silver}.rf-search-bar .header .input-box uni-input[data-v-179708de]{width:100%;padding-left:%?28?%;height:%?28?%;color:#888;font-size:%?28?%}.rf-search-bar .place[data-v-179708de]{background-color:#fff;height:%?100?%}",""]),t.exports=e},f9c3:function(t,e,a){"use strict";a.d(e,"b",(function(){return r})),a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){return i}));var i={"rf-loading":a("a7c6").default},r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"rf-category"},[a("rf-search-bar",{attrs:{icon:"iconxiatubiao--copy",title:"主页",placeholder:t.hotSearchDefault},on:{link:function(e){arguments[0]=e=t.$handleEvent(e),t.toIndex.apply(void 0,arguments)},search:function(e){arguments[0]=e=t.$handleEvent(e),t.toSearch.apply(void 0,arguments)}}}),0!==t.categoryList.length||t.loading?a("v-uni-view",{staticClass:"category-list"},[a("v-uni-scroll-view",{staticClass:"left",attrs:{"scroll-y":"true"}},t._l(t.categoryList,(function(e,i){return a("v-uni-view",{key:e.id,staticClass:"row",class:[i===t.showCategoryIndex?"on":""],on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.showCategory(i)}}},[a("v-uni-view",{staticClass:"text"},[a("v-uni-view",{staticClass:"block"}),t._v(t._s(e.title))],1)],1)})),1),a("v-uni-scroll-view",{staticClass:"right",class:t.animation,attrs:{"scroll-y":"true"}},t._l(t.categoryList,(function(e,i){return i===t.showCategoryIndex&&e.child.length>0?a("v-uni-view",{key:e.id,staticClass:"category"},[a("v-uni-view",{staticClass:"banner",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.indexTopToDetailPage(t.cateTop.jump_type,t.cateTop.jump_link)}}},[a("v-uni-image",{attrs:{src:t.cateTop&&t.cateTop.cover,mode:"aspectFill"}})],1),t._l(e.child,(function(e){return a("v-uni-view",{key:e.id,staticClass:"box",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.navTo("/pages/product/list?cate_id="+e.id)}}},[a("v-uni-view",{staticClass:"text"},[t._v(t._s(e.title))]),e.child&&e.child.length>0?a("v-uni-view",{staticClass:"list"},t._l(e.child,(function(e){return a("v-uni-view",{key:e.id,staticClass:"box",on:{click:function(a){a.stopPropagation(),arguments[0]=a=t.$handleEvent(a),t.navTo("/pages/product/list?cate_id="+e.id)}}},[a("v-uni-image",{attrs:{src:e.cover||t.errorImage}}),a("v-uni-view",{staticClass:"text"},[t._v(t._s(e.title))])],1)})),1):a("v-uni-view",{staticClass:"no-data"},[a("i",{staticClass:"iconfont icon404"}),t._v("暂无子分类")])],1)}))],2):t._e()})),1)],1):a("rf-empty",{attrs:{info:"暂无产品分类~"}}),t.loading?a("rf-loading"):t._e()],1)},n=[]}}]);